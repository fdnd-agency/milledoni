<script>
    import { page } from '$app/stores';

    $: currentPath = $page.url.pathname;
</script>

<header>
    <nav>
        <picture>
            <svg viewBox="0 0 342 71" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_2147_14700)">
                <path d="M45.037 29.4473L37.8932 35.1456L36.4761 36.284L27.3911 43.5282L18.2025 36.2387L16.7724 35.1003L9.64807 29.4473H0.304199V69.1999H9.68689V41.536L15.1094 45.5786L16.8048 46.8398L25.1392 53.0492H29.6494L37.7962 46.9757L39.485 45.7209L45.1017 41.536V69.1999H54.4779V29.4473H45.037Z" fill="#212121"/>
                </g>
                <path d="M66.2551 29.3164H75.6011V69.2137H66.2551V29.3164Z" fill="#212121"/>
                <path d="M109.236 61.2377V69.2137H88.6624V29.3164H97.8931V61.2377H109.236Z" fill="#212121"/>
                <path d="M140.474 61.2377V69.2137H119.9V29.3164H129.13V61.2377H140.474Z" fill="#212121"/>
                <path d="M160.37 36.7249V45.7849H175.473V53.0226H160.37V61.801H175.473V69.2095H151.135V29.3164H175.473V36.7249H160.37Z" fill="#212121"/>
                <path d="M202.834 29.3164C216.055 29.3164 223.579 39.0635 223.579 49.2672C223.579 59.4709 216.115 69.2137 202.834 69.2137H188.188V29.3164H202.834ZM197.419 37.2967V61.2334H202.378C209.846 61.2334 214.178 55.421 214.178 49.2629C214.178 43.1049 209.846 37.2967 202.378 37.2967H197.419Z" fill="#212121"/>
                <path d="M232.657 49.2709C232.657 38.3289 240.522 28.2959 253.802 28.2959C267.083 28.2959 274.888 38.3289 274.888 49.2709C274.888 60.2129 267.023 70.2459 253.802 70.2459C240.582 70.2459 232.657 60.2129 232.657 49.2709ZM265.487 49.2709C265.487 42.7159 261.04 36.6219 253.802 36.6219C246.565 36.6219 242.118 42.7202 242.118 49.2709C242.118 55.8216 246.505 61.9242 253.802 61.9242C261.1 61.9242 265.487 55.8259 265.487 49.2709Z" fill="#212121"/>
                <path d="M310.01 55.3058V29.3164H319.189V69.2137H309.553L295.188 43.57V69.2137H285.958V29.3164H295.59L310.01 55.3058Z" fill="#212121"/>
                <path d="M332.242 29.3164H341.588V69.2137H332.242V29.3164Z" fill="#212121"/>
                <path d="M27.5577 29.6367L27.2662 30.262L26.9726 29.6367L15.8916 34.8498V69.6447H17.5752V35.927L27.2662 31.3661L36.9551 35.927V69.6447H38.6387V34.8498L27.5577 29.6367Z" fill="#EFB642"/>
                <path d="M53.5878 11.4163C52.3067 7.5075 48.6972 4.77509 44.8085 4.77509C44.556 4.77509 44.3034 4.79366 44.0509 4.81637C42.9196 2.35843 40.6673 0.581542 37.877 0.121325C34.1628 -0.493674 30.4753 1.26464 28.4735 4.59554C28.4016 4.71318 28.3544 4.84113 28.2887 4.95877C27.9212 4.38298 27.5147 3.82164 27.0363 3.29744C25.3506 1.44419 23.2749 0.50312 21.0184 0.48661C18.6162 0.501056 16.2736 1.66089 14.4175 3.74941C13.9227 4.30456 13.4833 4.98147 13.124 5.70378C10.9209 4.64714 8.59676 4.47378 6.34854 5.27865C3.11275 6.43642 0.599667 9.50935 0.0925346 12.929C-0.3838 16.1691 0.993876 19.2544 3.87858 21.3966C6.93575 23.6626 10.9168 24.6635 14.7645 25.6314C18.9755 26.6901 23.3282 27.7839 26.2478 30.5369L26.2561 30.5308C26.3341 30.6009 26.4511 30.669 26.5517 30.7371L28.2148 30.9703C31.159 28.1905 35.2366 27.0286 39.5524 25.8006C43.2768 24.7399 47.1306 23.6419 50.1611 21.3945C53.5324 18.8932 54.8136 15.162 53.5858 11.4142L53.5878 11.4163ZM29.7444 5.36945C31.4321 2.56275 34.5262 1.08304 37.6388 1.59278C39.7905 1.94775 41.5398 3.26855 42.5172 5.10323C40.9301 5.53868 39.3881 6.41371 37.9714 7.71182C35.4522 10.0253 32.7543 12.9868 30.6478 16.458C30.8511 13.5543 30.6786 9.81891 29.1592 6.52722C29.3358 6.13304 29.5226 5.74506 29.7464 5.36945H29.7444ZM43.3199 7.68292C43.7655 11.9074 41.1785 15.9978 38.9344 18.6848C37.374 20.5525 35.446 22.3707 33.0418 24.2404C31.4711 25.4663 30.4938 26.5126 29.5493 27.5239C29.264 27.8314 28.9642 28.1451 28.6542 28.467C28.5864 28.304 28.5104 28.1409 28.4201 27.9861C28.4961 26.2691 28.7938 24.6119 29.2742 23.029C29.4611 22.5172 29.6417 21.9992 29.8039 21.475C31.7955 16.2867 35.561 11.9404 38.9693 8.80973C40.2628 7.62307 41.663 6.84091 43.0879 6.49007C43.1968 6.87393 43.2768 7.27224 43.3199 7.68292ZM13.6291 9.18946C13.6558 8.76846 13.7523 8.31649 13.8816 7.8604C14.2861 8.14314 14.6844 8.45683 15.0724 8.8118C18.6121 12.0622 21.3161 15.4839 23.1147 18.9861C24.1228 20.9487 24.8312 22.9361 25.2377 24.8988C25.2274 24.8905 25.2151 24.8823 25.2048 24.874C24.632 24.4489 24.09 24.0485 23.6875 23.6688C22.9279 22.9506 22.1087 22.2345 21.273 21.5039C17.3453 18.0739 13.2862 14.5284 13.627 9.1874L13.6291 9.18946ZM28.7466 19.6568C28.6562 20.1377 28.5207 20.6227 28.3688 21.1097C28.2025 21.5555 28.0485 22.0033 27.9048 22.4573C27.9027 22.4656 27.9006 22.4718 27.8965 22.478C27.9006 21.9847 27.9109 21.4915 27.9109 21.0003C27.9109 20.0118 27.8822 18.9902 27.8514 17.9522C27.7569 14.8091 27.6769 11.5958 28.4078 8.70448C29.7321 12.8464 29.1633 17.4424 28.7445 19.6548L28.7466 19.6568ZM15.5262 4.74414C17.0989 2.97343 19.0535 1.99109 21.0287 1.9787H21.0656C22.8724 1.9787 24.5581 2.78357 25.946 4.30662C26.5887 5.01036 27.102 5.78633 27.529 6.59945C26.1575 10.178 26.2602 14.2911 26.371 17.9976C26.3998 19.0212 26.4306 20.0283 26.4285 21.0003C26.4285 21.7969 26.4162 22.5956 26.4039 23.3902C25.9542 21.6917 25.2972 19.987 24.4328 18.303C22.5521 14.6419 19.7414 11.0799 16.0723 7.71182C15.5406 7.22477 14.9903 6.81821 14.4339 6.4488C14.7419 5.81729 15.1032 5.2188 15.5262 4.74414ZM15.1279 24.1888C11.4178 23.256 7.58249 22.2922 4.76144 20.1996C2.29969 18.3732 1.16429 15.8678 1.56466 13.1498C1.98966 10.2626 4.11469 7.66435 6.84746 6.68819C7.63177 6.40752 8.43045 6.26925 9.22913 6.26925C10.3481 6.26925 11.4691 6.54992 12.5614 7.08237C12.3376 7.76341 12.1898 8.45064 12.1487 9.09453C11.7586 15.1723 16.2982 19.1347 20.3019 22.6307C21.1211 23.3448 21.9259 24.0485 22.6733 24.7543C23.1393 25.1959 23.7142 25.6231 24.324 26.073C24.7367 26.3785 25.1535 26.6984 25.5539 27.0286C25.5888 27.4021 25.6257 27.7756 25.6401 28.1492C22.622 26.073 18.8215 25.1175 15.1258 24.1909L15.1279 24.1888ZM49.2844 20.1996C46.4695 22.2861 42.7492 23.3448 39.15 24.3704C36.9654 24.9937 34.748 25.6335 32.6681 26.5044C33.052 26.1556 33.4627 25.7986 33.9513 25.4188C36.4398 23.483 38.4416 21.5926 40.0677 19.6444C42.5007 16.7346 45.2951 12.2727 44.7941 7.52814C44.751 7.10094 44.6668 6.68613 44.5621 6.28163C44.6442 6.27957 44.7284 6.26719 44.8105 6.26719C48.0689 6.26719 51.0973 8.57653 52.1814 11.8827C53.2142 15.034 52.1588 18.0657 49.2844 20.1975V20.1996Z" fill="#EFB642"/>
                <defs>
                <clipPath id="clip0_2147_14700">
                <rect width="54.4779" height="69.2016" fill="white"/>
                </clipPath>
                </defs>
            </svg>                
        </picture>
        <div class="search-wrapper">
            <form class="search-container" role="search" aria-label="Search for a gift">
                <button type="button" class="icon-button" aria-label="Add">
                    <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.218 13.1454H12.4837V20.8796C12.4837 21.2899 12.3208 21.6834 12.0307 21.9734C11.7406 22.2635 11.3471 22.4265 10.9369 22.4265C10.5266 22.4265 10.1332 22.2635 9.84309 21.9734C9.553 21.6834 9.39003 21.2899 9.39003 20.8796V13.1454H1.65574C1.24549 13.1454 0.852043 12.9824 0.561951 12.6923C0.271859 12.4022 0.108887 12.0088 0.108887 11.5985C0.108887 11.1883 0.271859 10.7948 0.561951 10.5047C0.852043 10.2146 1.24549 10.0517 1.65574 10.0517H9.39003V2.31736C9.39003 1.90711 9.553 1.51366 9.84309 1.22357C10.1332 0.933479 10.5266 0.770508 10.9369 0.770508C11.3471 0.770508 11.7406 0.933479 12.0307 1.22357C12.3208 1.51366 12.4837 1.90711 12.4837 2.31736V10.0517H20.218C20.6283 10.0517 21.0217 10.2146 21.3118 10.5047C21.6019 10.7948 21.7649 11.1883 21.7649 11.5985C21.7649 12.0088 21.6019 12.4022 21.3118 12.6923C21.0217 12.9824 20.6283 13.1454 20.218 13.1454Z" fill="#A3A3A3"/>
                    </svg>
                </button>
            
                <button type="button" class="icon-button" aria-label="Voice Search">
                    <svg width="19" height="25" viewBox="0 0 19 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.3296 0.416992C10.3498 0.416992 11.3283 0.822278 12.0497 1.54369C12.7711 2.2651 13.1764 3.24355 13.1764 4.26378V11.9574C13.1764 12.9776 12.7711 13.956 12.0497 14.6775C11.3283 15.3989 10.3498 15.8041 9.3296 15.8041C8.30937 15.8041 7.33092 15.3989 6.60951 14.6775C5.8881 13.956 5.48281 12.9776 5.48281 11.9574V4.26378C5.48281 3.24355 5.8881 2.2651 6.60951 1.54369C7.33092 0.822278 8.30937 0.416992 9.3296 0.416992ZM18.3054 11.9574C18.3054 16.4837 14.9587 20.2151 10.6119 20.8434V24.78H8.04734V20.8434C3.70047 20.2151 0.35376 16.4837 0.35376 11.9574H2.91829C2.91829 13.6577 3.59376 15.2885 4.79612 16.4908C5.99847 17.6932 7.62921 18.3687 9.3296 18.3687C11.03 18.3687 12.6607 17.6932 13.8631 16.4908C15.0654 15.2885 15.7409 13.6577 15.7409 11.9574H18.3054Z" fill="#A3A3A3"/>
                    </svg>
                </button>
            
                <input
                type="search"
                placeholder="I search a gift for a Dreamer"
                aria-label="Search input"
                />
            
                <button type="submit" class="icon-button search-button" aria-label="Search">
                    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.26005 0.617188C7.06782 0.61785 5.89236 0.908895 4.82816 1.46693C3.76396 2.02497 2.84069 2.83443 2.13257 3.83027C1.42444 4.8261 0.951214 5.98052 0.750912 7.20075C0.55061 8.42097 0.628823 9.67297 0.979266 10.8561C1.32971 12.0393 1.94261 13.1205 2.7687 14.013C3.59479 14.9056 4.61103 15.5844 5.73575 15.9951C6.86046 16.4057 8.06228 16.5367 9.2446 16.3774C10.4269 16.2182 11.5568 15.7732 12.5434 15.0782L17.2535 19.9644C17.3843 20.1102 17.5421 20.2271 17.7174 20.3082C17.8926 20.3893 18.0819 20.4329 18.2738 20.4364C18.4656 20.44 18.6562 20.4033 18.8342 20.3287C19.0121 20.2541 19.1737 20.143 19.3094 20.0021C19.4451 19.8612 19.5521 19.6934 19.624 19.5087C19.6959 19.3239 19.7312 19.126 19.7278 18.9268C19.7244 18.7276 19.6824 18.5311 19.6043 18.3491C19.5262 18.1671 19.4136 18.0033 19.2732 17.8675L14.5669 12.9773C15.3455 11.7875 15.797 10.3999 15.8729 8.96368C15.9488 7.52744 15.6462 6.09689 14.9976 4.82583C14.3491 3.55478 13.3791 2.49131 12.192 1.74977C11.0048 1.00823 9.64547 0.616666 8.26005 0.617188ZM3.49658 8.53018C3.49658 7.21852 3.99845 5.96058 4.89177 5.0331C5.78509 4.10561 6.9967 3.58456 8.26005 3.58456C9.5234 3.58456 10.735 4.10561 11.6283 5.0331C12.5216 5.96058 13.0235 7.21852 13.0235 8.53018C13.0235 9.84184 12.5216 11.0998 11.6283 12.0273C10.735 12.9547 9.5234 13.4758 8.26005 13.4758C6.9967 13.4758 5.78509 12.9547 4.89177 12.0273C3.99845 11.0998 3.49658 9.84184 3.49658 8.53018Z" fill="white"/>
                    </svg>
                </button>
            </form>
        </div>
        <ul>
            <li class:active={currentPath === '/'}>
                <a href="./">
                    <svg viewBox="0 0 38 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.694 21.6173H14.444V22.8673V30.7138C14.444 30.8865 14.2974 31.0331 14.1247 31.0331H9.41681C9.24405 31.0331 9.09751 30.8865 9.09751 30.7138V19.7287V18.4787H7.84751H6.40159L18.6146 7.47821C18.615 7.4779 18.6153 7.4776 18.6156 7.47731C18.7372 7.36953 18.9281 7.36954 19.0496 7.47736C19.0499 7.47764 19.0502 7.47792 19.0505 7.47821L31.2635 18.4787H29.8176H28.5676V19.7287V30.7138C28.5676 30.8865 28.4211 31.0331 28.2483 31.0331H23.5404C23.3677 31.0331 23.2212 30.8865 23.2212 30.7138V22.8673V21.6173H21.9712H15.694Z" stroke="#212121" stroke-width="2.5"/>
                    </svg>
                    <span>Home</span>
                </a>
            </li>
            <li class:active={currentPath === '/ideas'}>
                <a href="./ideas">
                    <svg viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.75 20.0377V19.3877L11.218 19.0144C9.15738 17.5686 7.8125 15.1982 7.8125 12.5039C7.8125 10.3988 8.64877 8.37982 10.1373 6.89125C11.6259 5.40268 13.6448 4.56641 15.75 4.56641C17.8552 4.56641 19.8741 5.40268 21.3627 6.89125C22.8512 8.37982 23.6875 10.3988 23.6875 12.5039C23.6875 15.1982 22.3426 17.5686 20.282 19.0144L19.75 19.3877V20.0377V23.0039C19.75 23.0205 19.7434 23.0364 19.7317 23.0481C19.72 23.0598 19.7041 23.0664 19.6875 23.0664H11.8125C11.7959 23.0664 11.78 23.0598 11.7683 23.0481C11.7566 23.0364 11.75 23.0205 11.75 23.0039V20.0377ZM13.0808 28.2981C13.0691 28.2864 13.0625 28.2705 13.0625 28.2539V28.1914H18.4375V28.2539C18.4375 28.2705 18.4309 28.2864 18.4192 28.2981C18.4075 28.3098 18.3916 28.3164 18.375 28.3164H13.125C13.1084 28.3164 13.0925 28.3098 13.0808 28.2981Z" stroke="#212121" stroke-width="2.5"/>
                    </svg>
                    <span>Ideas</span>
                </a>
            </li>
            <li class:active={currentPath === '/lists'}>
                <a href="./lists">
                    <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M28.2438 9.96368V30.3869L20.2217 26.9488L19.7293 26.7378L19.2369 26.9488L11.2148 30.3869V9.96368C11.2148 9.531 11.3544 9.19195 11.6682 8.87868C11.983 8.56437 12.3233 8.4245 12.7555 8.42383H26.704C27.1367 8.42383 27.4766 8.56344 27.7911 8.87793C28.1056 9.19237 28.2444 9.53134 28.2438 9.96217V9.96368Z" stroke="#212121" stroke-width="2.5"/>
                    </svg>
                    <span>My Lists</span>
                </a>
            </li>
            <li class:active={currentPath === '/profile'}>
                <a href="./profile">
                    <svg viewBox="0 0 35 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.168 10.959C13.168 9.76551 13.6421 8.62092 14.486 7.777C15.3299 6.93309 16.4745 6.45898 17.668 6.45898C18.8614 6.45898 20.006 6.93309 20.85 7.777C21.6939 8.62092 22.168 9.76551 22.168 10.959C22.168 12.1525 21.6939 13.2971 20.8499 14.141C20.006 14.9849 18.8614 15.459 17.668 15.459C16.4745 15.459 15.3299 14.9849 14.486 14.141C13.6421 13.2971 13.168 12.1525 13.168 10.959ZM7.71952 22.573C8.83302 21.4595 10.3432 20.834 11.918 20.834H23.418C24.9927 20.834 26.5029 21.4595 27.6164 22.573C28.7299 23.6865 29.3555 25.1968 29.3555 26.7715C29.3555 27.5837 29.0328 28.3627 28.4585 28.937C27.8842 29.5113 27.1052 29.834 26.293 29.834H9.04297C8.23074 29.834 7.45178 29.5113 6.87745 28.937C6.30312 28.3627 5.98047 27.5837 5.98047 26.7715C5.98047 25.1968 6.60603 23.6865 7.71952 22.573Z" stroke="#212121" stroke-width="2.5"/>
                    </svg>
                    <span>Profile</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

<style>
    header {
        height: 4.375em;
        width: 100%;
        max-width: 100vw;
        position: fixed;
        overflow: hidden;
        bottom: 0;
        z-index: 9999;

        background-color: var(--bg-card-color);
        border-top: 1px solid #0000005b;

        picture, .search-wrapper {
            display: none;
        }

        ul{
            display: flex;
            justify-content: center;
            align-items: center;
            list-style: none;
            gap: 3.5em;
            padding: .6em 0 .6em 0;

            li {
                a{
                    text-decoration: none;
                    color: inherit;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    flex-direction: column;
                    cursor: pointer;
                }

                svg {
                    height: 2em;
                }

                span{
                    font-weight: var(--font-weight-medium);
                    color: var(--txt-color);
                    font-size: var(--font-size-card-details);
                }
            }

            li.active {
                span {
                    font-weight: 600;
                }

                svg{
                    fill: var(--black);
                }
            }
        }
    }

    @media (min-width: 1024px) {
        header {
            top: 0;
            position: sticky;
            display: flex;
            align-items: center;
            /* height: 8.625em; */
            height: 7em;
            border-top: unset;
            margin-bottom: 1.5em;
            
            nav {
                display: flex;
                align-items: center;
                justify-content: space-between;
                width: 100vw;
                padding: 0 2.5em 0 2.5em;

                ul {
                    gap: 1em;
                    width: 31.666vw;
                    justify-content: flex-end;

                    li:nth-of-type(1), li:nth-of-type(2) {
                        display: none;
                    }

                    
                    li:nth-of-type(3) {
                        background-color: var(--bg-card-color);
                        box-shadow: 0px 2px 8px 0px #0000001A;
                        padding: .8em 1.6em .8em 1.6em;
                        border-radius: 6.75em;
                        width: 10.7vw;

                        a {
                            flex-direction: row-reverse;
                        }
                    }

                    li:nth-of-type(4) {
                        background-color: var(--bg-card-color);
                        box-shadow: 0px 2px 8px 0px #0000001A;
                        padding: .8em;
                        border-radius: 6.75em;
                        width: 3.24;
                        
                        span {
                            display: none;
                        }
                    }
                }
            }
            
            picture {
                display: block;
                width: 31.666vw;
                svg {
                    width: 19.6vw
                }
            }

            .search-wrapper {
                padding: 2px; /* Dikte van de border */
                border-radius: 9999px;
                background: linear-gradient(to right, #84C7DF, #CE89B5, #F0B743, #82C7E1);
                display: inline-block;
            }

            .search-container {
                width: 31.666vw;
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.5rem 1rem;
                border-radius: 9999px;
                background: white;
                /* background-clip: padding-box;
                border: 2px solid transparent;
                background-origin: border-box;
                position: relative; */

                .icon-button {
                    background: none;
                    border: none;
                    cursor: pointer;
                    padding: 0.25rem;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--icon-color);
                }

                .search-button {
                    width: 3em;
                    height: 3em;
                    background: black;
                    border-radius: 100%;
                }

                input[type="search"] {
                    border: none;
                    outline: none;
                    flex: 1;
                    font-size: 1rem;
                    color: var(--icon-color);
                    background: transparent;
                }

                input::placeholder {
                    color: var(--txt-ph-color);
                }

                svg {
                    width: 20px;
                    height: 20px;
                }
            }
        }
    }
</style>